# migrationについて

## migrationとは

- データベーステーブルのカラムの追加・変更・削除
- indexの追加・変更・削除
- カラムの名称やデータ型の変更


## migrationの使い方
```
rails g migration マイグレーション名 変更内容
```

- マイグレーション名はキャメルケースでもスネークケースでもどちらでも可能。

## migrationの命名規則

- テーブルの作成 Createテーブル名

- テーブルの削除 Dropテーブル名

- カラムの追加   Addカラム名Toテーブル名

- カラムの削除   removeカラム名Toテーブル名

- カラム名の変更 rename変更する前のカラム名To変更した後のカラム名Onテーブル名

- indexの作成    AddIndexカラム名Toテーブル名

- indexの削除    RemoveIndexカラム名Toテーブル名

## migrationにおけるindexとは

Railsにおけるカラムのindexは、データベースにおける検索パフォーマンスを向上させるためのものだナ。よく検索するカラムにindexを作成すると、そのカラムでのデータの検索が高速になるダ。

たとえば、usersテーブルでemailカラムをよく検索するなら、そのカラムにindexを作るといいダゾ。その際のマイグレーションファイルはこんな感じになるダ。

add_index :users, :email
ただし、indexはデータを追加、更新、削除する速度を少し遅くする可能性もあるから、必要なカラムにだけ作るようにしようダナ。


