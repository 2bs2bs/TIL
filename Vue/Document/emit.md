# 子側から親にデータを送る方法

## 親のメソッドを発火させる
`emit`が実行されるとその引数の文字列を使って以下の処理が走る
1. 子コンポーネントのタグ内の`emit()`の引数に合致する親コンポーネント側のv-onディレクティブの引数を探す。
2. 合致したv-onのディレクティブの属性値に注目する
3. 親コンポーネントのスクリプトブロックで2に合致するメソッドを実行する。


手順
1. 親コンポーネントの記述
    1. 処理メソッドの用意
    2. v-on ディレクティブの記述
2. 子コンポーネントの記述
    1. [Emitの定義](#emitの定義)
    2. [Emitの実行](#emitの実行)

### Emitの定義
↓これは子コンポーネントで書く
```
interface Emits {
  (event: "イベント名"): void;

}

const emit = defineEmits<Emits>();
```
defineEmitsはPropsと一緒だけど、必ず戻り値は`emit`で受け取る→`defineEmits<Emits>`は`emit`で受け取ろうという意味

### Emitの実行
```
emit("イベント名");
```

## 親コンポーネントにデータを渡す方法
Emitの実行ではメソッドを走らせているだけ、データを渡すためには第二引数で渡すんやで
```
emit("イベント名", id)
```
引数を使う場合は、あらかじめinterfaceで定義しておかないといけない
```
interface Emits {
  (event: "イベント名", id: number): void;
}
```

## v-modelによる子から親への通信
v-modelを使ってPropsのデータを変更する場合は、emit()を次のように使う
```
emit("update:Prop名", 値);
```
これにより、子コンポーネントでデータが変更されると、自動的に親コンポーネントのPropsも更新される。これまで親コンポーネントでイベントを発火させて計算していたものが、子コンポーネントのデータをv-modelで同期させることで、親側での計算が不要になるんだ。

